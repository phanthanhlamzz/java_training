CREATE DATABASE tmaproject WITH OWNER = 'postgres' ENCODING='UTF8' LC_COLLATE = 'vi_VN.UTF-8' LC_CTYPE = 'vi_VN.UTF-8' TEMPLATE = template0;
set lc_monetary to "vi_VN";
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

CREATE TABLE TIME(
     TIME_ID UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
     MONTH      INT CHECK(MONTH > 0 AND MONTH < 13),
     QUARTER    INT,
     YEAR       INT,
     CREATE_AT TIMESTAMP,
     MODIFIED_AT TIMESTAMP
 );
CREATE TABLE PRODUCT(
   PRODUCT_ID UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
   ITEM       INT,
   CLASS    VARCHAR(50),
   INVENTORY VARCHAR(50),
   CREATE_AT TIMESTAMP,
   MODIFIED_AT TIMESTAMP
);
CREATE TABLE LOCATION(
   LOCATION_ID UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
   COUNTRY     VARCHAR(50),
   CITY    VARCHAR(50),
   CREATE_AT TIMESTAMP,
   MODIFIED_AT TIMESTAMP
);
CREATE TABLE SALE(
   SALE_ID UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
   PRODUCT_ID UUID references PRODUCT(PRODUCT_ID),
   LOCATION_ID UUID references LOCATION( LOCATION_ID),
   TIME_ID UUID references TIME(TIME_ID),
   DOLLARS MONEY,
   CREATE_AT TIMESTAMP,
   MODIFIED_AT TIMESTAMP
);





----------------------------------------------------------

INSERT INTO TIME (TIME_ID,MONTH,QUARTER,YEAR,CREATE_AT) VALUES (uuid_generate_v4(),5,1,2019,CURRENT_TIMESTAMP);
INSERT INTO product (item,class,inventory,create_at) VALUES (12,'DASDKJ','DASD',CURRENT_TIMESTAMP);
INSERT INTO product (item,inventory) VALUES ( 12, 'hello')



INSERT INTO TIMEX1 (CREATE_AT,MODIFIED_AT) VALUES (CURRENT_TIMESTAMP,CURRENT_TIMESTAMP)
CREATE TABLE TIMEx1(
   TIME_ID UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
   CREATE_AT TIMESTAMP,
   MODIFIED_AT TIMESTAMP
);

CREATE TABLE TIMEX3( TIME_ID UUID PRIMARY KEY DEFAULT uuid_generate_v4(), NAME VARCHAR(50));
INSERT INTO TIMEX3 ( TIME_ID,NAME) VALUES (uuid_generate_v4(),'hello');
INSERT INTO TIMEX3 ( NAME) VALUES ('hello');
